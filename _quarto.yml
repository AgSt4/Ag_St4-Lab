project:
  type: website
  output-dir: _site

# ============================================
# 1. CONFIGURACIÓN DEL SITIO (MENÚS Y BOTONES)
# ============================================
website:
  title: "Ag_St4"
  favicon: assets/logo.svg
  description: "Mi Portafolio personal sobre economía y carta de presentación."
  
  navbar:
    logo: assets/logo.svg
    background: gray
    right:
      - text: "Home"
        href: index.qmd
      - text: "Proyectos"
        href: projects.qmd
      # --- MENÚ DESPLEGABLE APUNTES ---
      - text: "Apuntes"
        menu:
          - text: "Biblioteca de Apuntes del Grado"
            href: content/notes/library/index.qmd
          - text: "---"
          - text: "Microeconomía - Examen de Grado"
            href: content/notes/library/micro/index.qmd
          - text: "Macroeconomía - Examen de Grado"
            href: content/notes/library/macro/index.qmd
          - text: "Econometría - Examen de Grado"
            href: content/notes/library/metrics/index.qmd
          - text: "---"
          - text: "Apuntes Generales de Economía y Negocios"
            href: content/notes/aditional/index.qmd
      # --- MENÚ DESPLEGABLE TÓPICOS ---
      - text: "Tópicos"
        menu:
          - text: "Índice de Tópicos"
            href: content/topics/index.qmd
          - text: "---"
          - text: "Microeconomía Aplicada"
            href: content/topics/micro_applied/index.qmd
          - text: "Finanzas & Inversiones"
            href: content/topics/finance_investments/index.qmd
          - text: "Sustentabilidad"
            href: content/topics/sustainability/index.qmd
          - text: "---"
          - text: "Últimas Revisiones"
            href: topics.qmd
      # --- CONTACTO Y CV ---
      - text: "CV"
        href: cv.qmd
      - icon: github
        href: https://github.com/AgSt4
      - icon: linkedin
        href: https://www.linkedin.com/in/agustinsandovaltapia/

# ============================================
# 2. METADATOS GLOBALES
# ============================================
author: "Agustín Sandoval Tapia"
lang: es

# ============================================
# 3. CONFIGURACIÓN DE FORMATOS (ESTÉTICA)
# ============================================
format:
  # --- WEB (HTML) ---
  html:
    theme:
      light: [flatly, custom.scss]
      dark: [darkly, custom.scss]
    toc: true
    grid:
      sidebar-width: 300px
      body-width: 1000px
      margin-width: 300px

  # --- APUNTES (TYPST) ---
  typst:
    output-file: "documento.pdf"
    toc: true
    number-sections: true
    mainfont: "Source Sans Pro"
    fontsize: 11pt
    margin:
      x: 2cm
      y: 2.5cm
    
    header-includes:
      - |
        // COLORES
        #let color_h1 = rgb("#0A2846") 
        #let color_h2 = rgb("#1E5896") 
        #let color_links = rgb("#0A2846") 

        // HEADER
        #set page(
          header: [
            #set text(size: 8pt, fill: gray)
            #grid(
              columns: (1fr, auto),
              align(left)[*AgSt4 Lab* | Apuntes de Economía],
              align(right)[
                #link("https://www.linkedin.com/in/agustinsandovaltapia/")[LinkedIn] | 
                #link("https://github.com/AgSt4")[GitHub] | 
                #link("mailto:a.sandovaltapia@uc.cl?subject=Duda%20Apuntes%20AgSt4-Lab")[Mail] |
                #link("https://agst4.github.io/Ag_St4-Lab/")[Web]
              ]
            )
            #v(-5pt)
            #line(length: 100%, stroke: 0.5pt + gray)
          ]
        )

        // ESTILOS
        #show heading.where(level: 1): set text(fill: color_h1, weight: "bold", size: 1.3em)
        #show heading.where(level: 2): set text(fill: color_h2, weight: "bold", size: 1.1em)
        #show heading.where(level: 3): set text(fill: black, style: "italic")
        #show link: set text(fill: color_links)

  # --- SLIDES (BEAMER) ---
  beamer:
    theme: metropolis
    aspectratio: 169
    fonttheme: default
    classoption: "allowbreak"
    
    header-includes:
      - |
        % COLORES
        \definecolor{PrimaryColor}{RGB}{10, 40, 70}
        \definecolor{AccentColor}{RGB}{30, 88, 150}
        \setbeamercolor{frametitle}{bg=PrimaryColor, fg=white}
        \setbeamercolor{progress bar}{fg=PrimaryColor, bg=gray!20}
        \setbeamercolor{title separator}{fg=AccentColor}
        \setbeamercolor{structure}{fg=PrimaryColor}
        
        % FUENTE Y PORTADA
        \usepackage{sourcesanspro}
        \makeatletter
        \setbeamertemplate{title page}{
          \begin{minipage}[b][\paperheight]{\textwidth}
            \ifx\inserttitlegraphic\@empty\else\usebeamertemplate*{title graphic}\fi
            \vfill%
            \ifx\inserttitle\@empty\else\usebeamertemplate*{title}\fi
            \ifx\insertsubtitle\@empty\else\usebeamertemplate*{subtitle}\fi
            \usebeamertemplate*{title separator}
            \ifx\insertauthor\@empty\else\usebeamertemplate*{author}\fi
            \ifx\insertdate\@empty\else\usebeamertemplate*{date}\fi
            \ifx\insertinstitute\@empty\else\usebeamertemplate*{institute}\fi
            \vfill
            \vspace*{1mm}
            \footnotesize\color{gray}
            LinkedIn: /in/agustinsandovaltapia \quad $\cdot$ \quad GitHub: @Ag\_St4 \quad $\cdot$ \quad a.sandovaltapia@uc.cl
            \vfill
            \vspace*{1mm}
          \end{minipage}
        }
        \makeatother