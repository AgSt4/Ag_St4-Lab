# ============================================
# CONFIGURACIÓN QUARTO - PORTFOLIO
# ============================================

project:
  type: website
  output-dir: docs

# ============================================
# CONFIGURACIÓN DEL SITIO
# ============================================
website:
  title: "Ag_St4"
  favicon: assets/logo.svg
  description: "Mi Portafolio personal sobre economía y carta de presentación."
  
  # Navegación
  navbar:
    logo: assets/logo.svg       # <--- CAMBIADO A .svg
    background: gray
    right:
      - text: "Home"
        href: index.qmd
      - text: "Proyectos"
        href: projects.qmd
      - text: "Apuntes"          # <--- AQUÍ EMPIEZA EL CAMBIO
        menu:
          - text: "Biblioteca de Apuntes del Grado"
            href: content/notes/library/index.qmd
          - text: "---"          # (Separador visual)
          - text: "Microeconomía - Examen de Grado"
            href: content/notes/library/micro/index.qmd
          - text: "Macroeconomía - Examen de Grado"
            href: content/notes/library/macro/index.qmd
          - text: "Econometría - Examen de Grado"
            href: content/notes/library/metrics/index.qmd
          - text: "---"          # (Separador visual)
          - text: "Apuntes Generales de Economía y Negocios"
            href: content/notes/aditional/index.qmd
      - text: "Tópicos"
        menu:
          - text: "Índice de Tópicos"
            href: content/topics/index.qmd
          - text: "---"
          - text: "Microeconomía Aplicada"
            href: content/topics/micro_applied/index.qmd
          - text: "Finanzas & Inversiones"
            href: content/topics/finance_investments/index.qmd
          - text: "Sustentabilidad"
            href: content/topics/sustainability/index.qmd
          - text: "---"
          - text: "Últimas Revisiones"
            href: topics.qmd
      - text: "CV"
        href: cv.qmd
      - icon: github
        href: https://github.com/AgSt4
      - icon: linkedin
        href: https://www.linkedin.com/in/agustinsandovaltapia/


project:
  type: website
  output-dir: _site




# ============================================
# CONFIGURACIÓN GLOBAL DEL PROYECTO
# ============================================

# Metadatos base (se pueden sobrescribir en cada archivo)
author: "Agustín Sandoval Tapia"
lang: es

format:
  # --- 1. WEB (HTML) ---
  html:
    theme:
      light: [flatly, custom.scss]
      dark: [darkly, custom.scss]
    toc: true
    grid:
      sidebar-width: 300px
      body-width: 1000px
      margin-width: 300px

  # --- 2. APUNTES (TYPST - Estilo Paper Moderno) ---
  typst:
    toc: true
    number-sections: true
    mainfont: "Source Sans Pro" 
    fontsize: 11pt
    margin:
      x: 2cm
      y: 2.5cm # Un poco más arriba para el header
    
    header-includes:
      - |
        // --- DEFINICIÓN DE COLORES ---
        #let color_h1 = rgb("#0A2846") // Azul Profundo
        #let color_h2 = rgb("#1E5896") // Azul Intermedio
        #let color_links = rgb("#0A2846") 

        // --- HEADER CON CONTACTO ---
        #set page(
          header: [
            #set text(size: 8pt, fill: gray)
            #grid(
              columns: (1fr, auto),
              align(left)[*AgSt4 Lab* | Apuntes de Economía],
              align(right)[
                #link("https://www.linkedin.com/in/agustinsandovaltapia/")[LinkedIn] | 
                #link("https://github.com/AgSt4")[GitHub] | 
                #link("mailto:a.sandovaltapia@uc.cl?subject=Duda%20Apuntes%20AgSt4-Lab")[Mail] |
                #link("https://agst4.github.io/Ag_St4-Lab/")[Web]
              ]
            )
            #v(-5pt)
            #line(length: 100%, stroke: 0.5pt + gray)
          ]
        )

        // --- ESTILO DE TÍTULOS (H1, H2, H3...) ---
        #show heading.where(level: 1): set text(fill: color_h1, weight: "bold", size: 1.3em)
        #show heading.where(level: 2): set text(fill: color_h2, weight: "bold", size: 1.1em)
        #show heading.where(level: 3): set text(fill: black, style: "italic")
        
        // --- ESTILO DE LINKS ---
        #show link: set text(fill: color_h1)

  # --- 3. SLIDES (BEAMER - Tema Metropolis Modificado) ---
  beamer:
    theme: metropolis
    aspectratio: 169
    fonttheme: default # Usaremos fuentes profesionales abajo
    classoption: "allowbreak"
    
    # Inyección de LaTeX para colores y contacto
    header-includes:
      - |
        % --- COLORES ---
        \definecolor{PrimaryColor}{RGB}{10, 40, 70}   % Azul Oscuro
        \definecolor{AccentColor}{RGB}{30, 88, 150}   % Azul Claro
        
        % Aplicar colores al tema Metropolis
        \setbeamercolor{frametitle}{bg=PrimaryColor, fg=white}
        \setbeamercolor{progress bar}{fg=PrimaryColor, bg=gray!20}
        \setbeamercolor{title separator}{fg=AccentColor}
        \setbeamercolor{structure}{fg=PrimaryColor} % Cambia bullets y enumeraciones
        
        % --- FUENTES MODERNAS (Requiere XeLaTeX o LuaLaTeX idealmente) ---
        \usepackage{sourcesanspro} % Fuente sans moderna similar a la de Typst
        
        % --- CONTACTO EN SLIDES (Pie de página o Título) ---
        % Opción: Agregar contacto bajo el autor en la portada
        \makeatletter
        \setbeamertemplate{title page}{
          \begin{minipage}[b][\paperheight]{\textwidth}
            \ifx\inserttitlegraphic\@empty\else\usebeamertemplate*{title graphic}\fi
            \vfill%
            \ifx\inserttitle\@empty\else\usebeamertemplate*{title}\fi
            \ifx\insertsubtitle\@empty\else\usebeamertemplate*{subtitle}\fi
            \usebeamertemplate*{title separator}
            \ifx\insertauthor\@empty\else\usebeamertemplate*{author}\fi
            \ifx\insertdate\@empty\else\usebeamertemplate*{date}\fi
            \ifx\insertinstitute\@empty\else\usebeamertemplate*{institute}\fi
            \vfill
            % --- AQUÍ INYECTAMOS EL CONTACTO ---
            \vspace*{1mm}
            \footnotesize\color{gray}
            LinkedIn: /in/agustinsandovaltapia \quad $\cdot$ \quad GitHub: @Ag_St4 \quad $\cdot$ \quad a.sandovaltapia@uc.cl
            \vfill
            \vspace*{1mm}
          \end{minipage}
        }
        \makeatother